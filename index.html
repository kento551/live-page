<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>擬似ライブ配信</title>
  <style>
    body { text-align: center; font-family: sans-serif; padding: 50px; }
    #status { font-size: 1.5em; margin: 20px; }
    #countdown { font-size: 2em; color: red; margin: 20px; }
    iframe { margin-top: 30px; display: none; }
    #placeholder { width: 640px; height: 360px; background: url("勉強会のタイトル画像.png") no-repeat center center; background-size: cover; margin: auto; }
  </style>
</head>
<body>
  <h1 id="status">⏳ 配信準備中</h1>
  <div id="countdown">あと数秒で配信開始...</div>
  <div id="placeholder"></div>
  <iframe id="ytplayer" width="640" height="360"
    src=""
    frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>
  </iframe>

  <script>
    const startTime = new Date("2025-06-02T16:23:00+09:00");
    const endTime = new Date("2025-06-02T16:25:00+09:00");
    const ytURL = "https://www.youtube.com/embed/9x8JrN4Cnxw?autoplay=1&controls=0&rel=0";

    const countdown = document.getElementById("countdown");
    const status = document.getElementById("status");
    const iframe = document.getElementById("ytplayer");
    const placeholder = document.getElementById("placeholder");

    function updateDisplay() {
      const now = new Date();

      if (now < startTime) {
        const diff = Math.floor((startTime - now) / 1000);
        const mins = Math.floor(diff / 60);
        const secs = diff % 60;
        countdown.textContent = `あと ${mins}分 ${secs}秒 で配信開始`;
        iframe.style.display = "none";
        placeholder.style.display = "block";
        status.textContent = "⏳ 配信準備中";
      } else if (now >= startTime && now < endTime) {
        countdown.style.display = "none";
        placeholder.style.display = "none";
        iframe.src = ytURL;
        iframe.style.display = "block";
        status.textContent = "🔴 勉強会開催中";
      } else {
        countdown.style.display = "none";
        placeholder.style.display = "none";
        iframe.style.display = "none";
        status.textContent = "✅ 勉強会は終了しました。ご参加ありがとうございました。";
      }
    }

    updateDisplay();
    setInterval(updateDisplay, 1000);
  </script>
</body>
</html>
